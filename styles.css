:root{
  --bg:#f5f5f7;
  --card:#ffffff;
  --text:#1d1d1f;
  --muted:#6e6e73;
  --line:#ececf0;
  --accent:#0071e3;
  --good:#1d8f4e;
  --bad:#c93b33;
  --radius:20px;
  --shadow:0 10px 30px rgba(0,0,0,.04);
}
*{box-sizing:border-box}
body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family:"SF Pro Text","SF Pro Display","Helvetica Neue",-apple-system,BlinkMacSystemFont,sans-serif;
  line-height:1.45;
}
.wrap{max-width:1240px;margin:0 auto;padding:32px 20px 64px}
header{
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap:20px;
  background:var(--card);
  border:0;
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:24px;
}
h1{margin:0;font-size:26px;font-weight:640;letter-spacing:-.018em;line-height:1.12}
.sub{margin:10px 0 0;color:var(--muted);font-size:13px;max-width:62ch}
.badge{
  display:inline-flex;
  align-items:center;
  gap:8px;
  font-size:11px;
  color:var(--muted);
  border:0;
  border-radius:999px;
  padding:6px 10px;
  background:#f2f2f7;
}
.filters{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  justify-content:flex-end;
}
select,input[type="text"],input[type="number"],button{
  border:0;
  border-radius:12px;
  padding:10px 12px;
  font-size:12px;
  background:#f2f2f7;
  color:var(--text);
  outline:none;
}
select:focus,input[type="text"]:focus,input[type="number"]:focus,button:focus{
  box-shadow:0 0 0 3px rgba(0,113,227,.16);
}
button{cursor:pointer}
button.primary{
  background:var(--accent);
  color:#fff;
}
.grid{
  display:grid;
  grid-template-columns:1.2fr .8fr;
  gap:16px;
  margin-top:16px;
}
@media (max-width:980px){
  header{flex-direction:column}
  .filters{justify-content:flex-start}
  .grid{grid-template-columns:1fr}
}
.card{
  background:var(--card);
  border:0;
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  overflow:hidden;
}
.hd{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:8px;
  padding:16px 20px 12px;
}
.hd h2{margin:0;font-size:13px;font-weight:600;letter-spacing:-.01em}
.hint{font-size:11px;color:var(--muted)}
.bd{padding:12px 20px 20px}
.kpis{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:12px;
}
@media (max-width:980px){.kpis{grid-template-columns:repeat(2,1fr)}}
@media (max-width:640px){.kpis{grid-template-columns:1fr}}
.kpi{
  border:0;
  border-radius:16px;
  padding:14px;
  background:#f7f7fa;
}
.kpi .t{font-size:11px;color:var(--muted);margin-bottom:8px}
.kpi .v{font-size:24px;font-weight:630;letter-spacing:-.026em;word-break:break-word}
.kpi .u{font-size:11px;color:var(--muted)}
.kpiHead{
  display:flex;
  align-items:center;
  gap:8px;
  margin-bottom:6px;
}
.kpiIcon{
  width:24px;
  height:24px;
  border-radius:8px;
  background:#ffffff;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  color:#4b5563;
}
.kpiIcon svg{
  width:14px;
  height:14px;
}
.kpi .row{
  margin-top:8px;
  display:flex;
  justify-content:space-between;
  gap:8px;
  font-size:11px;
  color:var(--muted);
}
.delta{
  margin-top:10px;
  display:inline-flex;
  border:0;
  border-radius:999px;
  font-size:11px;
  padding:6px 10px;
  background:#fff;
}
.delta.good{color:var(--good)}
.delta.bad{color:var(--bad)}
.section{margin-top:16px;display:flex;flex-direction:column;gap:12px}
.mini,.wf,.list,.group,.trend{
  border:0;
  border-radius:16px;
  background:#f7f7fa;
  padding:14px;
}
.mini{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:8px;
}
.titleWithIcon{
  display:flex;
  align-items:center;
  gap:8px;
}
.miniIcon{
  width:22px;
  height:22px;
  border-radius:7px;
  background:#ffffff;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  color:#6b7280;
}
.miniIcon svg{
  width:13px;
  height:13px;
}
.mini b{font-size:11px}
.mini span{font-size:11px;color:var(--muted)}
.wf{display:flex;flex-direction:column;gap:10px}
.wf-row{display:grid;grid-template-columns:210px 1fr 130px;gap:10px;align-items:center}
@media (max-width:620px){
  .wf-row{grid-template-columns:1fr}
}
.wf-label{font-size:11px;color:var(--muted)}
.bar{
  height:10px;
  border-radius:999px;
  border:0;
  background:#f2f2f7;
  overflow:hidden;
}
.fill{
  height:100%;
  width:0%;
  transition:width .28s ease;
  background:#7fb5ee;
}
.fill.neg{background:#e28f88}
.wf-val{font-size:11px;text-align:right;font-variant-numeric:tabular-nums}
.trend{padding-bottom:18px}
#trendSvg{width:100%;height:auto;display:block;border-radius:12px;background:#fff}
.trend-axis{stroke:#d7d7dc;stroke-width:1}
.trend-grid{stroke:#efeff4;stroke-width:1}
.trend-label{fill:#8a8a91;font-size:11px;font-family:inherit}
.trend-line-base{fill:none;stroke:#b8b8c2;stroke-width:2}
.trend-line-adj{fill:none;stroke:#0071e3;stroke-width:2.4}
.trend-dot-base{fill:#b8b8c2}
.trend-dot-adj{fill:#0071e3}
.trend-band{fill:rgba(0,113,227,.07)}
.list .note{margin-top:8px}
.controls{display:flex;flex-direction:column;gap:14px}
.gt{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:8px;
  margin-bottom:10px;
}
.gt b{font-size:11px}
.gt span{font-size:11px;color:var(--muted)}
.toggleRow{display:flex;flex-wrap:wrap;gap:10px}
.chip{
  display:inline-flex;
  align-items:center;
  gap:7px;
  border:0;
  border-radius:999px;
  padding:8px 11px;
  font-size:11px;
  cursor:pointer;
  user-select:none;
  background:#fff;
}
.chip input{accent-color:var(--accent)}
.ctrl{
  display:grid;
  grid-template-columns:1fr 220px;
  gap:12px;
  align-items:center;
  padding:10px 0;
  border-top:1px solid rgba(0,0,0,.05);
}
@media (max-width:640px){
  .ctrl{grid-template-columns:1fr}
}
.ctrl:first-of-type{border-top:none}
label{font-size:11px;display:flex;flex-direction:column;gap:4px}
label small{color:var(--muted)}
input[type="range"]{width:100%}
.pill{
  border:0;
  border-radius:12px;
  background:#fff;
  font-size:11px;
  padding:9px 11px;
  text-align:right;
  font-variant-numeric:tabular-nums;
}
.scenarioRow{
  display:grid;
  grid-template-columns:1fr auto auto;
  gap:8px;
}
.scenarioRow:first-of-type{grid-template-columns:1fr auto}
@media (max-width:640px){
  .scenarioRow,.scenarioRow:first-of-type{grid-template-columns:1fr}
}
.rowItem{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:8px;
  border-top:1px solid rgba(0,0,0,.05);
  padding:10px 0;
  font-size:11px;
}
.rowItem:first-of-type{border-top:none}
.rowItem .name{color:var(--text)}
.rowItem .meta{color:var(--muted)}
.impact{
  border:0;
  border-radius:999px;
  padding:6px 9px;
  font-size:11px;
  white-space:nowrap;
  background:#fff;
  font-variant-numeric:tabular-nums;
}
.impact.good{color:var(--good)}
.impact.bad{color:var(--bad)}
.note{margin:0;color:var(--muted);font-size:11px}
